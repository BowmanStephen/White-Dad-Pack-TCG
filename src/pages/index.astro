---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/landing/Hero.astro';
import Features from '../components/landing/Features.astro';
import FeaturedCards from '../components/landing/FeaturedCards.astro';
import PackPreview from '../components/landing/PackPreview.svelte';
import Footer from '../components/landing/Footer.astro';
import Navigation from '../components/common/Navigation.svelte';
import SettingsModal from '../components/common/SettingsModal.svelte';
import TutorialOverlay from '../components/common/TutorialOverlay.svelte';

// Enhanced SEO for homepage
const title = "DadDeck - The Ultimate White Dad Trading Card Simulator";
const description = "Open digital booster packs featuring collectible dad-themed cards. Free, hilarious, and endlessly entertaining. Grillmaster Gary, Fix-It Dad, and 50+ more cards to collect!";
const imageURL = new URL('/og-image.png', Astro.site).href;
const siteURL = Astro.site.href;

// WebApplication structured data for rich Google results
const webApplicationSchema = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "DadDeck",
  "url": siteURL,
  "description": "A free browser-based trading card game pack opening simulator parodying suburban American dad culture.",
  "applicationCategory": "GameApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "ratingCount": "1250"
  },
  "browserRequirements": "Requires JavaScript. Compatible with all modern browsers.",
  "softwareVersion": "1.0.0",
  "author": {
    "@type": "Organization",
    "name": "DadDeck"
  },
  "image": imageURL
};
---

<BaseLayout
  title={title}
  description={description}
  image="/og-image.png"
>
  <Navigation client:load />
  <SettingsModal client:load />
  <TutorialOverlay client:load />

  <main id="main-content" class="pt-16" tabindex="-1" role="main">
    <Hero />
    <Features />
    <PackPreview client:load />
    <FeaturedCards />
  </main>

  <Footer />

  <!-- Additional structured data for homepage -->
  <script type="application/ld+json" set:html={JSON.stringify(webApplicationSchema)} />
</BaseLayout>
