---
import BaseLayout from '@/layouts/BaseLayout.astro';
import DeckBuilder from '@/components/deck/DeckBuilder.svelte';
import Navigation from '@/components/common/Navigation.svelte';
import Breadcrumbs from '@/components/nav/Breadcrumbs.svelte';
import ErrorBoundary from '@/components/common/ErrorBoundary.svelte';
import { t } from '@/i18n';

// SEO Meta Tags
const title = t('deck.title');
const description = t('deck.metaDescription');
---

<BaseLayout title={title} description={description}>
  <ErrorBoundary component="Navigation" fallbackMessage="Navigation unavailable. Please reload the page.">
    <Navigation client:load />
  </ErrorBoundary>

  <!-- Breadcrumbs -->
  <ErrorBoundary component="Breadcrumbs" fallbackMessage="Breadcrumbs unavailable.">
    <Breadcrumbs client:load />
  </ErrorBoundary>

  <main class="deck-builder-page">
    <ErrorBoundary
      component="DeckBuilder"
      fallbackTitle="Deck Builder Error"
      fallbackMessage="We couldn't load the deck builder. Please refresh the page."
      onRetry={() => window.location.reload()}
    >
      <DeckBuilder client:only />
    </ErrorBoundary>
  </main>
</BaseLayout>

<style>
  .deck-builder-page {
    width: 100%;
    min-height: 100vh;
  }
</style>
