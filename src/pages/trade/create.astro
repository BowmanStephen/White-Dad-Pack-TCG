---
import BaseLayout from '../../layouts/BaseLayout.astro';
import TradeCreator from '../../components/trade/TradeCreator.svelte';
import Navigation from '../../components/common/Navigation.svelte';
import SettingsModal from '../../components/common/SettingsModal.svelte';

// Enhanced SEO for trade creation page
const title = "Create Trade Offer - DadDeck Trading Card Game";
const description = "Create a custom trade offer in DadDeck. Select cards from your collection to trade with friends. Generate shareable trade URLs in this free browser-based TCG.";
const createTradeURL = new URL('/trade/create', Astro.site).href;
const imageURL = new URL('/og-image.png', Astro.site).href;

// WebPage structured data
const createTradeSchema = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Create Trade Offer - DadDeck",
  "url": createTradeURL,
  "description": "Create custom trade offers for collectible dad-themed trading cards"
};
---

<BaseLayout
  title={title}
  description={description}
  image="/og-image.png"
>
  <Navigation client:load />
  <SettingsModal client:load />

  <!-- Page Header -->
  <div class="page-header">
    <div class="max-w-6xl mx-auto px-4 py-8 text-center">
      <a href="/trade" class="back-link">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Back to Trade Center
      </a>
      <h1 class="text-3xl md:text-4xl font-black text-white mt-4 mb-2">
        Create <span class="text-amber-400">Trade Offer</span>
      </h1>
      <p class="text-slate-400">
        Select cards to offer and request, then share with a friend
      </p>
    </div>
  </div>

  <!-- Trade Creator Component -->
  <main id="main-content" class="trade-create-main" tabindex="-1" role="main" aria-label="Create trade offer">
    <TradeCreator client:load />
  </main>

  <!-- Structured data -->
  <script type="application/ld+json" set:html={JSON.stringify(createTradeSchema)} />
</BaseLayout>

<style>
  .page-header {
    background: linear-gradient(to bottom, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.6));
    border-bottom: 1px solid rgba(71, 85, 105, 0.2);
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #94a3b8;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    transition: color 0.2s ease;
  }

  .back-link:hover {
    color: #fbbf24;
  }

  .trade-create-main {
    min-height: calc(100vh - 250px);
    background: radial-gradient(ellipse at top, rgba(251, 191, 36, 0.05) 0%, transparent 50%),
                linear-gradient(to bottom, #0f172a, #1e293b);
  }
</style>
