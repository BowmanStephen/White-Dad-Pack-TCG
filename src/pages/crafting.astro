---
import BaseLayout from '@/layouts/BaseLayout.astro';
import CraftingStation from '@/components/crafting/CraftingStation.svelte';
import { getFullURL, getImageURL } from '@/lib/seo';

// Enhanced SEO for crafting page
const title = "Card Crafting - DadDeck Trading Card Game";
const description = "Combine cards to craft new, more powerful dad-themed cards! Discover recipes through experimentation. Turn 5 common cards into uncommons, and rares into epics in this free TCG simulator.";
const craftingPageURL = getFullURL('/crafting');
const imageURL = getImageURL('/og-image.png');

// Crafting system structured data
const craftingSchema = {
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "DadDeck Card Crafting System",
  "url": craftingPageURL,
  "description": "Learn how to craft new dad-themed trading cards by combining existing cards. Discover crafting recipes and create powerful cards.",
  "step": [
    {
      "@type": "HowToStep",
      "name": "Select Materials",
      "text": "Choose cards from your collection to use as crafting materials"
    },
    {
      "@type": "HowToStep",
      "name": "Choose Recipe",
      "text": "Select a crafting recipe (e.g., 5 Common â†’ 1 Uncommon)"
    },
    {
      "@type": "HowToStep",
      "name": "Craft Card",
      "text": "Execute the crafting recipe and receive your new card"
    }
  ]
};
---

<BaseLayout
  title={title}
  description={description}
  image="/og-image.png"
>
  <main class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800">
    <div class="container mx-auto px-4 py-8">
      <CraftingStation client:only="svelte" />
    </div>
  </main>

  <!-- Structured data for crafting page -->
  <script type="application/ld+json" set:html={JSON.stringify(craftingSchema)} />
</BaseLayout>
